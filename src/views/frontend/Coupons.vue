<template>
  <div class="container text-dark">
    <div class="lg mb-5">
      <h3 class="py-4 border-bottom">
        <i class="fa fa-ticket"></i>
        å„ªæƒ åˆ¸å°ˆå€
      </h3>
      <i>
        <h4 class="pt-3 text-muted">æ–°å®¢å„ªæƒ </h4>
      </i>
      <div class="row">
          <div
          class="col-lg-4 col-md-6 m-auto"
        >
          <div class="sawtooth bg-warning p-2 my-4">
            <div class="float-left pt-2 sawtooth-big">
              <h1 class="m-0 mb-2">
                88
                <small>æŠ˜</small>
              </h1>
              <button
                class="btn rounded px-1 py-0 btn-sm btn-danger"
                @click="copyBtn('new88')"
              >
                é»æ“Šé ˜å–
              </button>
              <input
                type="text"
                class="mt-5 text-center input-bg"
                id="new88"
                value="new88"
              />
            </div>
            <div class="float-right pt-3 border-left sawtooth-content">
              <h5 class="text-dark">æ–°å®¢å°ˆå±¬å„ªæƒ ç¢¼</h5>
              <p>
                å…¨é¤¨ä¸é™é‡‘é¡çš†äº«å„ªæƒ 
                <br />
                <u class="text-dark">
                  ç„¡ä½¿ç”¨æœŸé™ - é™é¦–è³¼
                </u>
              </p>
            </div>
            <div class="bg-icon">
              <div class="icon-big">ğŸ</div>
            </div>
          </div>
        </div>
      </div>
      <i>
        <h4 class="pt-3 text-muted">å…¶ä»–å„ªæƒ </h4>
      </i>
      <div class="row">
        <div
          class="col-lg-4 col-md-6 m-auto"
          v-for="item in coupons"
          :key="item.id"
        >
          <div class="sawtooth bg-light p-2 my-4">
            <div class="float-left pt-2 sawtooth-big">
              <h1 class="m-0 mb-2">
                {{ item.percent }}
                <small>æŠ˜</small>
              </h1>
              <button
                class="btn rounded px-1 py-0 btn-sm btn-danger"
                @focus="copyBtn(item.code)"
              >
                é»æ“Šé ˜å–
              </button>
              <input
                type="text"
                class="mt-5 text-center input-bg"
                :id="item.code"
                :value="item.code"
              />
            </div>
            <div class="float-right pt-3 border-left sawtooth-content">
              <h5 class="text-dark">{{ item.title }}</h5>
              <p>
                å…¨é¤¨ä¸é™é‡‘é¡çš†äº«å„ªæƒ 
                <br />ä½¿ç”¨æœŸé™è‡³
                <u class="text-dark">
                  {{ new Date(item.due_date).toLocaleDateString() }}
                </u>
              </p>
            </div>
            <div class="bg-icon">
              <div class="icon-big">ğŸŠ</div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="m-3 sm">
      <h5 class="my-3">
        <i class="fa fa-ticket"></i>
        å„ªæƒ åˆ¸å°ˆå€
      </h5>
      <div>
        <div class="card mb-5 bg-white">
          <div class="card-body index">
            <h5 class="card-title h6 text-dark">æ–°å®¢åŠ ç¢¼é€ï¼</h5>
            <hr />
            <p class="card-text text-dark">
              å…¨é¤¨ä¸é™é‡‘é¡äº«
              <span class="text-danger font-width-bolder">88 æŠ˜</span>
              å„ªæƒ 
              <br />ç„¡ä½¿ç”¨æœŸé™
              <br />
              <br />
              <span>ç«‹å³é»æ“Šè¤‡è£½ä¸‹æ–¹å„ªæƒ ç¢¼ä¸¦åœ¨çµå¸³æ™‚ä½¿ç”¨</span>
            </p>
            <input
              type="text"
              class="text-center text-muted input-bg"
              value="new88"
              @focus="copy"
            />
          </div>
          <div class="sm-bg-icon">
            <div class="icon-big">ğŸ</div>
          </div>
        </div>
      </div>
      <div v-for="item in coupons" :key="item.id">
        <div class="card mb-5 border-0 bg-light">
          <div class="card-body index">
            <h5 class="card-title h6 text-secondary">{{ item.title }}</h5>
            <hr />
            <p class="card-text text-dark">
              å…¨é¤¨ä¸é™é‡‘é¡äº«
              <span class="text-danger font-width-bolder">
                {{ item.percent }} æŠ˜
              </span>
              å„ªæƒ 
              <br />
              ä½¿ç”¨æœŸé™è‡³ {{ new Date(item.due_date).toLocaleDateString() }}
              <br />
              <br />
              <span class="text-muted">
                ç«‹å³é»æ“Šè¤‡è£½ä¸‹æ–¹å„ªæƒ ç¢¼ä¸¦åœ¨çµå¸³æ™‚ä½¿ç”¨
              </span>
            </p>
            <input
              type="text"
              class="text-center text-secondary input-bg"
              @focus="copy"
              v-model="item.code"
            />
          </div>
          <div class="sm-bg-icon">
            <div class="icon-big">ğŸŠ</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  data () {
    return {
      coupons: [
        {
          code: 'GAMESKY9',
          due_date: 1631750400000,
          num: 1,
          percent: 9,
          title: 'é€±å¹´æ…¶å„ªæƒ åˆ¸'
        },
        {
          code: '8YEARS8',
          due_date: 1665878400000,
          id: 2,
          percent: 8,
          title: 'é–‹å¹•å…«é€±å¹´å„ªæƒ åˆ¸'
        },
        {
          code: 'LOVEYOUTHX75',
          due_date: 1613865600000,
          id: 3,
          percent: 75,
          title: 'ä½›å¿ƒå„ªæƒ åˆ¸é™æ™‚æ¶è³¼'
        }
      ]
    }
  },
  methods: {
    copy (e) {
      e.currentTarget.select()
      document.execCommand('Copy')
      this.$bus.$emit('message:push', 'è¤‡è£½æˆåŠŸ', 'dark')
    },
    copyBtn (id) {
      const ipt = document.getElementById(id)
      ipt.select()
      document.execCommand('copy')
      this.$bus.$emit('message:push', 'è¤‡è£½æˆåŠŸ', 'dark')
    }
  }
}
</script>

<style lang="scss" scoped>
@import "@/assets/scss/_coupons.scss";
</style>
